@{
    Layout = "~/_Layout.cshtml";
    Page.Title = "Multi Record WebGrid";
    //retrieve the passed data value(s)
    // use the .QueryString structure of the Request
    //syntax
    //Request.QueryString["passedDataLabel"]
    //if no label specified is on the url , the result will be null
    //data is passed as a string
    var cid = Request.QueryString["cid"];

    //test to see if you actually recieved a value
    if (string.IsNullOrEmpty(cid))
    {
        Response.Redirect("MultiRecordQuery.cshtml");
    }

    var db = Database.Open("NWDB");
    var queryCommand = @"SELECT ProductID, ProductName, QuantityPerUnit, UnitPrice, Discontinued FROM Products WHERE CategoryID = @0";
    var dataInfo = db.Query(queryCommand, cid);
    //WebGrid is an object
    //you need to craete an instance of the object
    //the "default" constructor for WebGrid needs to be given the data set 
    var gridInstance = new WebGrid(dataInfo);
}
@section banner{
    <h1>DataBase : Multiple Record Web Grid</h1>

    <blockquote>
        This is the second page of a two page query technique.
        This first page will load a drop down list from data provided by the database.
        The page will pass the selected value from the dropdown list to the next page
        which will be responsible for displaying multiple records for the selected value.
        This page will use the WebGrid object to display the product category records. This page will use a customized WebGrid.
        <strong>On this page there will be no form.</strong>
    </blockquote>
}
    <span style="font-size:xx-large"><strong>Database: WebGrid</strong></span>
<br/>
<div class="row">
    <div class="col-md-offset-1">
        <span style="font-size:x-large">Product for @cid</span><!--ALTER THIS TO DISPLAY THE CATEGORY NAME FOR MONDAY -->
        <!--default webgrid-->
        @gridInstance.GetHtml();
</div>
</div>



